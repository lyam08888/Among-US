<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Test Mobile - Among Us V3</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100vw;
            height: 100vh;
            height: -webkit-fill-available;
            overflow: hidden;
            background: #0a0a0f;
            color: white;
            font-family: Arial, sans-serif;
            position: fixed;
            top: 0;
            left: 0;
        }
        
        .test-container {
            width: 100vw;
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }
        
        .test-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            width: 100%;
            max-width: 400px;
        }
        
        .test-canvas {
            width: 100%;
            height: 200px;
            background: #1a1a2e;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .test-button {
            background: #00d4ff;
            color: #0a0a0f;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            min-height: 48px;
        }
        
        .test-button:active {
            transform: scale(0.95);
        }
        
        .status {
            color: #00ff00;
        }
        
        .error {
            color: #ff3838;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üöÄ Test Mobile Among Us V3</h1>
        
        <div class="test-info">
            <h3>Informations de l'√©cran</h3>
            <p>Largeur: <span id="screen-width">-</span>px</p>
            <p>Hauteur: <span id="screen-height">-</span>px</p>
            <p>Ratio: <span id="device-ratio">-</span></p>
            <p>Orientation: <span id="orientation">-</span></p>
        </div>
        
        <canvas id="test-canvas" class="test-canvas"></canvas>
        
        <div class="test-info">
            <h3>Tests</h3>
            <p>Canvas: <span id="canvas-status" class="status">‚úÖ OK</span></p>
            <p>Touch: <span id="touch-status">‚ùì Non test√©</span></p>
            <p>Viewport: <span id="viewport-status" class="status">‚úÖ OK</span></p>
        </div>
        
        <button class="test-button" onclick="testTouch()">Tester le Touch</button>
        <button class="test-button" onclick="testFullscreen()">Plein √âcran</button>
        <button class="test-button" onclick="window.location.href='index.html'">Lancer le Jeu</button>
    </div>

    <script>
        // Update screen info
        function updateScreenInfo() {
            document.getElementById('screen-width').textContent = window.innerWidth;
            document.getElementById('screen-height').textContent = window.innerHeight;
            document.getElementById('device-ratio').textContent = window.devicePixelRatio || 1;
            document.getElementById('orientation').textContent = window.innerWidth > window.innerHeight ? 'Paysage' : 'Portrait';
        }
        
        // Test canvas
        function testCanvas() {
            const canvas = document.getElementById('test-canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth * (window.devicePixelRatio || 1);
            canvas.height = canvas.offsetHeight * (window.devicePixelRatio || 1);
            
            ctx.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1);
            
            // Draw test pattern
            ctx.fillStyle = '#00d4ff';
            ctx.fillRect(10, 10, 50, 50);
            
            ctx.fillStyle = '#ff3838';
            ctx.fillRect(canvas.offsetWidth - 60, 10, 50, 50);
            
            ctx.fillStyle = '#00ff00';
            ctx.fillRect(10, canvas.offsetHeight - 60, 50, 50);
            
            ctx.fillStyle = '#ffff00';
            ctx.fillRect(canvas.offsetWidth - 60, canvas.offsetHeight - 60, 50, 50);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Canvas Test OK', canvas.offsetWidth / 2, canvas.offsetHeight / 2);
        }
        
        // Test touch
        function testTouch() {
            const status = document.getElementById('touch-status');
            status.innerHTML = '‚è≥ Test en cours...';
            status.className = '';
            
            let touchDetected = false;
            
            const touchHandler = () => {
                touchDetected = true;
                status.innerHTML = '‚úÖ Touch d√©tect√©';
                status.className = 'status';
                document.removeEventListener('touchstart', touchHandler);
            };
            
            document.addEventListener('touchstart', touchHandler);
            
            setTimeout(() => {
                if (!touchDetected) {
                    status.innerHTML = '‚ùå Pas de touch d√©tect√©';
                    status.className = 'error';
                    document.removeEventListener('touchstart', touchHandler);
                }
            }, 3000);
        }
        
        // Test fullscreen
        function testFullscreen() {
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            } else if (document.documentElement.webkitRequestFullscreen) {
                document.documentElement.webkitRequestFullscreen();
            }
        }
        
        // Initialize
        updateScreenInfo();
        testCanvas();
        
        // Update on resize/orientation change
        window.addEventListener('resize', () => {
            updateScreenInfo();
            testCanvas();
        });
        
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                updateScreenInfo();
                testCanvas();
            }, 100);
        });
        
        console.log('üì± Mobile test page loaded');
        console.log('Screen:', window.innerWidth, 'x', window.innerHeight);
        console.log('Device Pixel Ratio:', window.devicePixelRatio);
        console.log('User Agent:', navigator.userAgent);
    </script>
</body>
</html>